
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Eldred, NY | Weather + Fact</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Arial', sans-serif;
            margin: 0;
            overflow: hidden;
        }
        .logo-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5em 1em;
        }
        .logo-bar img {
            height: 50px;
        }
        h1 {
            text-align: center;
            font-size: 2em;
            margin: 0.2em 0;
        }
        .marquee {
            white-space: nowrap;
            overflow: hidden;
            box-sizing: border-box;
        }
        .marquee-content {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 25s linear infinite;
            font-size: 1.8em;
        }
        @keyframes marquee {
            from { transform: translate(0, 0); }
            to { transform: translate(-100%, 0); }
        }
    </style>
</head>
<body>
    <div class="logo-bar">
        <img src="https://monteleonegardens.com/assets/hydrofarm-logo.png" alt="Hydrofarm Logo">
        <img src="https://monteleonegardens.com/assets/4corners-logo.png" alt="4 Corners Logo">
    </div>
    <h1>Eldred, NY</h1>
    <div class="marquee">
        <div class="marquee-content" id="marquee-text">
            Loading data...
        </div>
    </div>
    <script>
        const marqueeText = document.getElementById("marquee-text");
        const lat = 41.5800, lon = -74.9168;
        const weatherURL = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weathercode,windspeed_10m&timezone=auto`;
        const factURL = "https://uselessfacts.jsph.pl/api/v2/facts/random?language=en";

        const weatherDescriptions = {
            0: "Clear sky", 1: "Mainly clear", 2: "Partly cloudy", 3: "Overcast",
            45: "Fog", 48: "Rime fog", 51: "Light drizzle", 53: "Moderate drizzle", 55: "Dense drizzle",
            61: "Light rain", 63: "Moderate rain", 65: "Heavy rain",
            71: "Light snow", 73: "Moderate snow", 75: "Heavy snow",
            95: "Thunderstorm"
        };

        function updateClock() {
            const now = new Date();
            return now.toLocaleTimeString();
        }

        Promise.all([fetch(weatherURL), fetch(factURL)])
            .then(async ([weatherRes, factRes]) => {
                const weatherData = await weatherRes.json();
                const factData = await factRes.json();

                const w = weatherData.current;
                const temp = Math.round((w.temperature_2m * 9/5) + 32);
                const wind = w.windspeed_10m;
                const desc = weatherDescriptions[w.weathercode] || "Weather";

                const time = updateClock();
                const fact = factData.text;

                const scrollText = `Time: ${time} | Temp: ${temp}Â°F | ${desc} | Wind: ${wind} mph | Fun Fact: ${fact}`;
                marqueeText.textContent = scrollText;
            })
            .catch(() => {
                marqueeText.textContent = "Unable to load data.";
            });

        setInterval(() => {
            const content = marqueeText.textContent;
            if (content.includes("Time:")) {
                const parts = content.split("|");
                const newTime = updateClock();
                parts[0] = `Time: ${newTime} `;
                marqueeText.textContent = parts.join("|");
            }
        }, 1000);
    </script>
</body>
</html>
